<!DOCTYPE html>
<html>

<head>
    <title>BEAM <> Peanut test page</title>
</head>

<body>
    <p id="link"></p>
    <button id="claimLinkGasless">ðŸ¥œ Claim Link Gasless</button>
    <script>
        document.getElementById('link').innerHTML = window.location.href;
    </script>

    <!-- load peanut from CDN, will make peanut object available -->
    <script src="https://cdn.jsdelivr.net/npm/@squirrel-labs/peanut-sdk-ethersv5/dist/peanut-sdk.js"></script>
    <script>
        document.getElementById('claimLinkGasless').addEventListener('click', async () => {
            // get current url
            const url = window.location.href; // assumes we have url parameters c, v, i, p, and t  
            // example: https://ecodemogasless.netlify.app/t/usdc?c=137&v=v4&i=114&p=EAlYhwYt2VteSusd&t=campaignId

            console.log('claiming link gaslessly....')
            const receiverAddress = "0x6B3751c5b04Aa818EA90115AA06a4D9A36A16f02"; // address to claim to. NEED TO GET THIS FROM BEAM
            const apiKey = "gvAMxXbG8n177xrH4mc0PfzuhcJumFC5"; // beam api key
            const response = await peanut.claimLinkGasless(url, receiverAddress, apiKey);
            console.log("response: ", response);
        });
    </script>
    
    <!-- here is some links you can try out:
    [
        '...?c=137&v=v4&i=120&p=CSi4OCCUTnoMIKsE&t=eco',
        '...?c=137&v=v4&i=121&p=OlSHlGzkx03o5KKR&t=eco',
        '...?c=137&v=v4&i=122&p=EtqGWuWp7Z9ZtVGh&t=eco',
        '...?c=137&v=v4&i=123&p=9w2DnqEpY0P2uwog&t=eco',
        '...?c=137&v=v4&i=124&p=lObHQ2uldCynaaZ7&t=eco',
        '...?c=137&v=v4&i=125&p=rOI3sQlg1AJTq3Ov&t=eco',
        '...?c=137&v=v4&i=126&p=RRIgbkPlJ0NfefjQ&t=eco',
        '...?c=137&v=v4&i=127&p=Z38sVpQtcZ0sJSol&t=eco',
        '...?c=137&v=v4&i=128&p=2m2epyJZgEROrg0H&t=eco',
        '...?c=137&v=v4&i=129&p=NuFn05IZecEghVv4&t=eco',
        '...?c=137&v=v4&i=130&p=negHBR3T7br6YRGV&t=eco',
        '...?c=137&v=v4&i=131&p=EtvjQ5EkBcZesvxq&t=eco',
        '...?c=137&v=v4&i=132&p=6HrnmFpfGs2sm9T9&t=eco',
        '...?c=137&v=v4&i=133&p=uE5DscyQUcwa01zn&t=eco',
        '...?c=137&v=v4&i=134&p=z2ajx8n7hn7wangv&t=eco',
        '...?c=137&v=v4&i=135&p=vFN8yd9m1mjTtsQD&t=eco',
        '...?c=137&v=v4&i=136&p=m0UQ2r52n6ymVXW2&t=eco',
        '...?c=137&v=v4&i=137&p=2nE7vJlMrpgLaomb&t=eco',
        '...?c=137&v=v4&i=138&p=qsPdoYCdhdG64QfM&t=eco',
        '...?c=137&v=v4&i=139&p=0AIEbDBKXkSHVGQH&t=eco'
    ]
    -->
</body>

</html>